<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng nhập</title>
    <link rel="stylesheet" href="../css/signin.css">
    <link rel="stylesheet" href="../css/home.css">
    <link rel="stylesheet" href="../css/css-icon/css/all.css" />
    <link rel="stylesheet" href="../css/css-icon/css/sharp-solid.css" />
    <link rel="stylesheet" href="../css/css-icon/css/sharp-regular.css" />
    <link rel="stylesheet" href="../fonts/fonts.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>
    <div class="container">
        <header class="header">
            <div class="header-main">
                <div class="container-content">
                    <div class="header-content">
                        <a href="" class="logo"></a>
                        <nav class="menu">
                            <ul class="menu-list">
                                <li class="menu-item menu-item-logo"><a href="home.html"><img
                                            src="../images/logo.png" alt="" class="logo"></a></li>
                                <li class="menu-item"><a href="../html/home.html">TRANG CHỦ</a></li>
                                <li class="menu-item"><a href="home.html">TRANG CHỦ</a></li>
                                <li class="menu-item"><a href="about-us.html">GIỚI THIỆU</a></li>
                                <li class="menu-item"><a href="service.html">DỊCH VỤ</a></li>
                                <li class="menu-item"><a href="room.html">PHÒNG</a></li>
                                <li class="menu-item"><a href="blog.html">DIỄN ĐÀN</a></li>
                                <li class="menu-item"><a href="contact.html">LIÊN HỆ</a></li>
                                <li class="menu-item menu-item-login"><a href="signup.html">ĐĂNG KÝ</a></li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </header>
        <div class="banner-title">
            <h1>Đặt kỳ nghỉ của bạn</h1>
            <span>Đăng nhập</span>
        </div>
        <div class="wrapper">
            <div class="content">
                <img src="../images/SignUpSignIn/ks.jpeg" alt="" class="imgcnt">
                <div class="content1">
                    <form action="">
                        <input type="email" class="email" placeholder="Email" id="email">
                        <div class="error">
                            <span id="eremail"></span>
                        </div>
                        <input type="password" class="password" placeholder="Password" id="password">
                        <div class="error">
                            <span id="erpw"></span>
                        </div>
                        <a href="#" class="forget">Forgot Password?</a>
                        <button class="btnsignin" id="btnsignin">Sign In</button>
                    </form>
                    <p>Đăng nhập bằng mạng xã hội của bạn</p>
                    <div class="social">
                        <i class="fa-brands fa-facebook-f"></i>
                        <i class="fa-brands fa-google"></i>
                        <i class="fa-brands fa-pinterest-p"></i>
                        <i class="fa-brands fa-instagram"></i>
                    </div>
                </div>
                <div class="content2">
                    <a href="../html/home.html"><img src="../images/logo.png" alt="" class="logo1"></a>
                    <h3>Chào mừng bạn đến với HOTALE</h3>
                    <p>Đăng ký tài khoản ngay để sử dụng mọi dịch vụ tốt nhất của chúng tôi</p>
                    <a href="../html/signup.html"><button class="btnsignup">Sign Up</button></a>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="footer-item">
            <div class="footer-img">
                <img src="../images/logo.png" alt="">
            </div>
            <div class="social">
                <i class="fa-brands fa-facebook-f"></i>
                <i class="fa-brands fa-twitter"></i>
                <i class="fa-brands fa-pinterest-p"></i>
                <i class="fa-brands fa-instagram"></i>
            </div>
        </div>
        <div class="footer-item">
            <div class="footer-img">
                <img src="../images/footer-banner.png" alt="">
            </div>
            <div class="footer-img">
                <img src="../images/footer-cards-300x53.png" alt="">
            </div>
        </div>
    </footer>
    <script>
        $(document).ready(function () {
            let email = localStorage.getItem("email");
            let password = localStorage.getItem("password");
            let regemail = /^[A-Za-z]\w+@(gmail|yahoo|iuh|hotmail)(\.com){1}$/;
            let regpw = /^(?=.*[0-9])(?=.*[A-Z])(?=.*[!@#$%^&]).{8,}$/;
            function check(reg,gtri){
                if(reg.test(gtri)){
                    return true;
                }
                else{
                    return false;
                }
            }
            function valid(){
                let i=0;
                let mk= $("#password").val();
                let mail = $("#email").val();
                if(mail == ""){
                    $("#eremail").html("Email là bắt buộc để đăng nhập");
                    i=1;
                }
                else if(!check(regemail, mail)){
                    $("#eremail").html("Email sai định dạng");
                    i=1;
                }
                if(mk == ""){
                    $("#erpw").html("Mật khẩu là bắt buộc để đăng nhập");
                    i=1;
                }
                else if(!check(regpw, mk)){
                    $("#erpw").html("Mật khẩu phải từ 8 kí tự trở lên và có ít nhất 1 chữ cái in hoa và 1 kí tự đặc biệt");
                    i=1;
                }
                if(i==1){
                    return false;
                }else{
                    i=0;
                    return true;
                }
            }
            $("#email").blur(function (e) { 
                e.preventDefault();
                let mail = $("#email").val();
                if(mail == ""){
                    $("#eremail").html("Email là bắt buộc để đăng nhập");
                }
                else if(!check(regemail, mail)){
                    $("#eremail").html("Email sai định dạng");
                }
                else{
                    $("#eremail").html("");
                }
            });
            $("#password").blur(function (e) { 
                e.preventDefault();
                let mk= $("#password").val();
                if(mk == ""){
                    $("#erpw").html("Mật khẩu là bắt buộc để đăng nhập");
                }
                else if(!check(regpw, mk)){
                    $("#erpw").html("Mật khẩu phải từ 8 kí tự trở lên và có ít nhất 1 chữ cái in hoa và 1 kí tự đặc biệt");
                }
                else{
                    $("#erpw").html("");
                }
            });

            $("#btnsignin").click(function (e) { 
                e.preventDefault();
                let mail = $("#email").val();
                let mk= $("#password").val();
                if(valid()){
                    if(mail != email){
                        $("#erpw").html("Tài khoản hoặc mật khẩu không chính xác");
                    }
                    else if(mk != password){
                        $("#erpw").html("Tài khoản hoặc mật khẩu không chính xác");
                    }
                    else{
                        alert("Đăng nhập thành công quay về trang chủ");
                        let w = window.open("home.html");
                    }
                }
            });

        });
    </script>
</body>
</html>